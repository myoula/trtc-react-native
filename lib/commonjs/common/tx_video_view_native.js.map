{"version":3,"sources":["tx_video_view_native.tsx"],"names":["TXSurfaceView","RtcVideoView","Component","render","viewType","userId","streamType","otherProps","props","renderParams","fillMode","TRTCCloudDef","TRTC_VIDEO_RENDER_MODE_FILL","rotation","TRTC_VIDEO_ROTATION_0","mirrorType","TRTC_VIDEO_MIRROR_TYPE_AUTO","Platform","OS","TRTC_VideoView_TextureView","TXTextureView"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAuBA;AACA;AACA;AACA,MAAMA,aAAa,GAAG,yCAEpB,aAFoB,CAAtB;AAIA;AACA;AACA;;AACO,MAAMC,YAAN,SAA2BC,gBAA3B,CAAuE;AAC5EC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA,MAAZ;AAAoBC,MAAAA,UAApB;AAAgC,SAAGC;AAAnC,QAAkD,KAAKC,KAA7D,CADO,CAEP;;AACA,QAAIC,YAAY,GAAG,KAAKD,KAAL,CAAWC,YAA9B;;AACA,QAAIA,YAAJ,EAAkB;AAChB,UAAI,CAACA,YAAY,CAACC,QAAlB,EAA4B;AAC1BD,QAAAA,YAAY,CAACC,QAAb,GAAwBC,6BAAaC,2BAArC;AACD;;AACD,UAAI,CAACH,YAAY,CAACI,QAAlB,EAA4B;AAC1BJ,QAAAA,YAAY,CAACI,QAAb,GAAwBF,6BAAaG,qBAArC;AACD;;AACD,UAAI,CAACL,YAAY,CAACM,UAAlB,EAA8B;AAC5BN,QAAAA,YAAY,CAACM,UAAb,GAA0BJ,6BAAaK,2BAAvC;AACD;;AACDP,MAAAA,YAAY,CAACH,UAAb,GAA0BA,UAA1B;AACAG,MAAAA,YAAY,CAACJ,MAAb,GAAsBA,MAAtB;AACD;;AACD,QACEY,sBAASC,EAAT,KAAgB,SAAhB,IACAd,QAAQ,KAAKO,6BAAaQ,0BAF5B,EAGE;AACA,0BACE,6BAAC,aAAD;AACE,QAAA,IAAI,EAAE;AAAEd,UAAAA,MAAF;AAAUC,UAAAA;AAAV,SADR;AAEE,QAAA,YAAY,EAAEG;AAFhB,SAGMF,UAHN,EADF;AAOD,KAXD,MAWO;AACL,0BACE,6BAAC,aAAD;AACE,QAAA,IAAI,EAAE;AAAEF,UAAAA,MAAF;AAAUC,UAAAA;AAAV,SADR;AAEE,QAAA,YAAY,EAAEG;AAFhB,SAGMF,UAHN,EADF;AAOD;AACF;;AAtC2E;AAyC9E;AACA;AACA;;;;AACA,MAAMa,aAAa,GAAG,yCAEpB,oBAFoB,CAAtB","sourcesContent":["import React, { Component } from 'react';\nimport { Platform, requireNativeComponent, ViewProps } from 'react-native';\nimport { TRTCCloudDef } from '../trtc_cloud_def';\n\nexport interface TXVideoViewProps {\n  userId: string;\n  viewType?: number;\n  streamType: number;\n  mirror?: boolean;\n}\n\ninterface TXRenderViewProps {\n  data: { userId: string; streamType: number };\n}\n\ninterface TRTCRenderParams {\n  renderParams?: {\n    rotation: number;\n    fillMode: number;\n    mirrorType: number;\n    streamType: number;\n    userId: string;\n  };\n}\n\n/**\n * @ignore\n */\nconst TXSurfaceView = requireNativeComponent<\n  TXRenderViewProps & TRTCRenderParams\n>('TXVideoView');\n\n/**\n * @ignore\n */\nexport class RtcVideoView extends Component<ViewProps & TXVideoViewProps, {}> {\n  render() {\n    const { viewType, userId, streamType, ...otherProps } = this.props;\n    // @ts-ignore\n    let renderParams = this.props.renderParams;\n    if (renderParams) {\n      if (!renderParams.fillMode) {\n        renderParams.fillMode = TRTCCloudDef.TRTC_VIDEO_RENDER_MODE_FILL;\n      }\n      if (!renderParams.rotation) {\n        renderParams.rotation = TRTCCloudDef.TRTC_VIDEO_ROTATION_0;\n      }\n      if (!renderParams.mirrorType) {\n        renderParams.mirrorType = TRTCCloudDef.TRTC_VIDEO_MIRROR_TYPE_AUTO;\n      }\n      renderParams.streamType = streamType;\n      renderParams.userId = userId;\n    }\n    if (\n      Platform.OS === 'android' &&\n      viewType === TRTCCloudDef.TRTC_VideoView_TextureView\n    ) {\n      return (\n        <TXTextureView\n          data={{ userId, streamType }}\n          renderParams={renderParams}\n          {...otherProps}\n        />\n      );\n    } else {\n      return (\n        <TXSurfaceView\n          data={{ userId, streamType }}\n          renderParams={renderParams}\n          {...otherProps}\n        />\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n */\nconst TXTextureView = requireNativeComponent<\n  TXRenderViewProps & TRTCRenderParams\n>('TXVideoTextureView');\n"]}